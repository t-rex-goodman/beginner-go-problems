<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>WGo</title>
    <script type="text/javascript" src="../../static/js/wgo/wgo.js"></script>
    <script type="text/javascript" src="../../static/js/wgo/kifu.js"></script>
    <script type="text/javascript" src="../../static/js/wgo/sgfparser.js"></script>
    <script type="text/javascript" src="../../static/js/wgo/player.js"></script>
    <script type="text/javascript" src="../../static/js/wgo/basicplayer.js"></script>
    <script type="text/javascript" src="../../static/js/wgo/basicplayer.component.js"></script>
    <script type="text/javascript" src="../../static/js/wgo/basicplayer.control.js"></script>
    <script type="text/javascript" src="../../static/js/wgo/player.editable.js"></script>

    <link rel="stylesheet" type="text/css" href="../../static/js/wgo/wgo.player.css" />
    <link rel="stylesheet" type="text/css" href="../../static/css/bulma.css" />
    <link rel="stylesheet" type="text/css" href="../../static/css/styles.css" />
    <script>
      function revealSolution() {
        // reveal solution and controls
        document.getElementById("solution-text").classList.add("reveal-solution")
        document.getElementById("controls-wrapper").classList.add("reveal-controls")

        // conceal button
        document.getElementById("solution-button").classList.add("conceal")

        // reveal move on board
        document.getElementById("button-next").click()

        // press next button after a delay of 2 seconds
        // setTimeout(function () {
        //   document.getElementById("button-next").click();
        // }, 6000);
      }

      function revealCommentary() {
        document.getElementById("commentary-text").classList.add("reveal-commentary")
        document.getElementById("commentary-button").classList.add("conceal")
      }
    </script>
    <script type="text/javascript" src="../../assets/data/problem5.js"></script>
  </head>

  <body>
    <div class="container">
      <div class="title-section-problems">
        <h1
          class="title is-2"
          style="border-bottom: 1px solid #ababab; margin-bottom: 1em; padding-bottom: 0.25em;"
        >
          <a class="header-link" href="../../index.html"
            >&nbsp;&nbsp; T-Rex Go Problems &nbsp;&nbsp;</a
          >
        </h1>
        <h3 class="subtitle is-4">
          <a id="previous-problem" class="header-link" href="">
            &#x2190; &nbsp; &nbsp;
          </a>
          <a id="problem-number" class="header-link" href="../problem-list.html"></a>
          <a id="next-problem" class="header-link" href="">
            &nbsp; &nbsp; &#x2192;
          </a>
        </h3>
      </div>

      <div class="columns">
        <div class="column is-three-fifths">
          <div class="board-container">
            <div
              id="board-data-div"
              data-wgo=""
              data-wgo-move="1"
              data-wgo-layout="bottom: ['Control']"
            >
              Your browser does not support WGo. Please try again on the latest version of Firefox
              or Chrome!
            </div>
          </div>
        </div>
        <div class="column is-two-fifths">
          <div class="commentary-container">
            <div class="setup">
              <p class="section-name">Setup</p>
              <p id="setup-text" class="small-font"></p>
            </div>

            <div class="solution">
              <div
                style="
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  flex-direction: row;
                  max-height: 30px;
                "
              >
                <p class="section-name">
                  Solution
                </p>
                <button
                  id="solution-button"
                  class="button is-small is-outlined reveal-button"
                  onclick="revealSolution()"
                >
                  Show
                </button>
              </div>
              <p id="solution-text" class="small-font-hidden"></p>
            </div>

            <div class="commentary">
              <div
                style="
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  flex-direction: row;
                "
              >
                <p class="section-name">
                  Commentary
                </p>
                <button
                  id="commentary-button"
                  class="button is-small is-outlined reveal-button"
                  onclick="revealCommentary()"
                >
                  Show
                </button>
              </div>
              <p id="commentary-text" class="small-font-hidden"></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      document.getElementById("problem-number").innerText = "Problem " + problemData.problemNumber
      document
        .getElementById("previous-problem")
        .setAttribute("href", "problem" + (problemData.problemNumber - 1) + ".html")
      document
        .getElementById("next-problem")
        .setAttribute("href", "problem" + (problemData.problemNumber + 1) + ".html")
      document.getElementById("board-data-div").setAttribute("data-wgo", problemData.sgf)
      document.getElementById("setup-text").innerText = problemData.setup
      document.getElementById("solution-text").innerText = problemData.solution
      document.getElementById("commentary-text").innerText = problemData.commentary
    </script>
  </body>
</html>
